# 第二阶段：数理逻辑（3-4周）

## 概述

逻辑是数学的语言，也是程序正确性的基础。

---

## 1. 命题逻辑（Propositional Logic）

### 基本概念

| 符号 | 名称 | 含义 |
|------|------|------|
| ¬ | 否定 | NOT |
| ∧ | 合取 | AND |
| ∨ | 析取 | OR |
| → | 蕴含 | IF...THEN |
| ↔ | 等价 | IFF |

### 真值表

```
P | Q | P∧Q | P∨Q | P→Q | P↔Q
--|---|-----|-----|-----|-----
T | T |  T  |  T  |  T  |  T
T | F |  F  |  T  |  F  |  F
F | T |  F  |  T  |  T  |  F
F | F |  F  |  F  |  T  |  T
```

### 重要等价

```
双重否定：    ¬¬P ≡ P
德摩根律：    ¬(P∧Q) ≡ ¬P∨¬Q
              ¬(P∨Q) ≡ ¬P∧¬Q
蕴含转换：    P→Q ≡ ¬P∨Q
对偶：        P→Q ≡ ¬Q→¬P
```

### 范式

- **合取范式（CNF）**：(...)∧(...)∧(...)，每个括号是析取
- **析取范式（DNF）**：(...)∨(...)∨(...)，每个括号是合取

**SAT问题**：判断CNF公式是否可满足（NP完全问题的典范）

---

## 2. 谓词逻辑（First-Order Logic）

### 量词

| 符号 | 名称 | 含义 |
|------|------|------|
| ∀ | 全称量词 | 对所有...都成立 |
| ∃ | 存在量词 | 存在...使得成立 |

### 示例

```
∀x (Human(x) → Mortal(x))     // 所有人都会死
∃x (Prime(x) ∧ Even(x))       // 存在偶素数
∀ε>0 ∃δ>0 (|x-a|<δ → |f(x)-L|<ε)  // 极限定义
```

### 量词等价

```
¬∀x P(x) ≡ ∃x ¬P(x)
¬∃x P(x) ≡ ∀x ¬P(x)
```

---

## 3. 推理规则

### 自然演绎

| 规则 | 形式 |
|------|------|
| 假言推理 | P, P→Q ⊢ Q |
| 假言三段论 | P→Q, Q→R ⊢ P→R |
| 析取三段论 | P∨Q, ¬P ⊢ Q |
| 全称实例化 | ∀x P(x) ⊢ P(c) |
| 存在泛化 | P(c) ⊢ ∃x P(x) |

### 证明示例

```
前提：
1. ∀x (Student(x) → Works(x))
2. Student(Alice)

证明 Works(Alice)：
3. Student(Alice) → Works(Alice)  // 从1，全称实例化
4. Works(Alice)                   // 从2,3，假言推理
```

---

## 4. 可满足性与有效性

| 概念 | 定义 |
|------|------|
| 可满足 | 存在使公式为真的赋值 |
| 有效（永真） | 所有赋值都使公式为真 |
| 不可满足 | 不存在使公式为真的赋值 |

关系：P是有效的 ⟺ ¬P是不可满足的

---

## 5. 证明系统

### Hilbert系统
- 少量公理 + 推理规则
- 证明简洁但难以构造

### 自然演绎
- 更接近人类推理
- 引入/消去规则

### Sequent Calculus
- Gentzen发明
- 计算机证明的基础

---

## 6. 哥德尔定理（进阶）

### 完备性定理
> 一阶逻辑中，所有语义上有效的公式都可以被证明

### 不完备性定理
> 任何包含算术的一致形式系统，都存在无法在系统内证明的真命题

**意义**：数学的本质局限性

---

## 与编程的关系

| 逻辑概念 | 编程对应 |
|----------|----------|
| 命题 | 布尔表达式 |
| ∧, ∨, ¬ | &&, \|\|, ! |
| P→Q | if P then Q |
| ∀x P(x) | for all x: assert P(x) |
| 证明 | 程序（Curry-Howard同构） |

---

## 推荐资源

| 资源 | 内容 |
|------|------|
| Logic in Computer Science (Huth & Ryan) | 经典教材 |
| Language, Proof and Logic | Stanford在线课程配套 |
| Forall x | 免费开源逻辑教材 |
