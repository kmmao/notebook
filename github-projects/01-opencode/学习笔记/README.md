# OpenCode 学习笔记

## 源码阅读计划

### Week 1: 入口与基础
- [ ] 阅读CLI入口代码
- [ ] 理解命令解析流程
- [ ] 分析配置加载逻辑

### Week 2: 核心流程
- [ ] Session创建流程
- [ ] 消息处理循环
- [ ] 工具调用机制

### Week 3: 模型集成
- [ ] 模型抽象层设计
- [ ] 流式响应处理
- [ ] 多模型切换

### Week 4: 高级特性
- [ ] LSP集成
- [ ] 多会话管理
- [ ] 分享链接实现

---

## 关键发现

### 发现1: [标题]

**日期**: 

**位置**: 

**描述**:

```typescript
// 相关代码
```

**思考**:

---

### 发现2: [标题]

**日期**: 

**位置**: 

**描述**:

**思考**:

---

## 问题记录

| 问题 | 状态 | 答案/进展 |
|------|------|-----------|
| 会话如何持久化？ | 待研究 | |
| 上下文如何压缩？ | 待研究 | |
| LSP如何启动？ | 待研究 | |

---

## 可复用的设计模式

### 模式1: [名称]

**场景**:

**实现**:

**可应用于**:

---

## 待深入研究

1. [ ] 终端UI渲染（Ink框架）
2. [ ] 桌面应用架构（Electron/Tauri?）
3. [ ] VSCode扩展实现
4. [ ] 模型路由策略

---

## 参考资料

- [OpenCode官方文档](https://opencode.ai/docs)
- [GitHub源码](https://github.com/anomalyco/opencode)
- [Models.dev](https://models.dev)
